!function(a){function b(a,b){for(var c in b)b.hasOwnProperty(c)&&(a.style[c]=b[c])}function c(a,b,c){for(var d in b){if(!c&&d in a)continue;a[d]=b[d]}return a}function d(a,b){var c=Array.prototype.slice,d=c.call(arguments,2);return typeof Function.prototype.bind=="function"?Function.prototype.bind.apply(b,[a].concat(d)):function(){b.apply(a,c.call(arguments).concat(d))}}function f(a){this.infoCard=a,this.enter()}function g(){this.card=this._create()}"use strict";var e={background:"rgba(150, 150, 150, .9)",borderRadius:"3px",boxShadow:"0 0 3px rgba(0, 0, 0, .4)",color:"#222",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif',lineHeight:"1em",padding:"6px",position:"absolute",textDecoration:"none",textShadow:"0 1px rgba(255, 255, 255, .4)",zIndex:1e5};f.prototype={enter:function(){this.callback=d(this,this.mouseOver),a.body.addEventListener("mousemove",this.callback);var f=a.createElement("a");f.href="#",f.innerHTML="close",b(f,c({top:"10px",right:"10px",position:"fixed"},e)),f.addEventListener("click",d(this,function(a){a.preventDefault(),this.exit()})),this.exitButton=a.body.appendChild(f)},exit:function(b){this.exitButton.parentNode.removeChild(this.exitButton),this.infoCard.destroy(),a.body.removeEventListener("mousemove",this.callback)},mouseOver:function(b){var c=b.clientX+a.body.scrollLeft,d=b.clientY+a.body.scrollTop;this.infoCard.moveTo(c+10,d+10).setContent(this.getFontAtPoint(c,d))},getFontAtPoint:function(b,c){var d=a.elementFromPoint(b,c)||a.body,e=window.getComputedStyle(d).getPropertyValue("font-family");return d.tagName==="IMG"&&(e+=" (image) "),e}},g.prototype={_create:function(){var d=a.createElement("div");return b(d,c({display:"none"},e)),a.body.appendChild(d)},moveTo:function(a,c){return b(this.card,{display:"block",left:a+"px",top:c+"px"}),this},setContent:function(a){return this.card.innerHTML=a,this},destroy:function(){this.card.parentNode.removeChild(this.card),this.card=null}},new f(new g)}(document);